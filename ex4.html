<!DOCTYPE html>
<html>
<head>
  <title>Event Handling</title>
</head>
<body>
  <h1>Shopping List</h1>
  <p>Get it done today</p>

  <input
    id="userinput"
    onkeypress="addListAfterKeyPress(event)"
    type="text"
    placeholder="enter items"
  >

  <button id="enter" onclick="addListAfterClick()">Enter</button>

  <ul id="shopping-list">
    <li>Notebook <button onclick="remove(this.parentNode)">delete</button></li>
    <li>Jello <button onclick="remove(this.parentNode)">delete</button></li>
  </ul>

  <script>
    // Build and append a new <li> with a delete button
    function createNewItem(inputEl) {
      var ul = document.getElementById("shopping-list");
      var li = document.createElement("li");
      li.textContent = inputEl.value.trim() + " ";

      var btn = document.createElement("button");
      btn.textContent = "delete";
      btn.addEventListener("click", function () {
        remove(li);
      });

      li.appendChild(btn);
      ul.appendChild(li);
    }

    // Keep just ONE version of this function
    function addListAfterClick() {
      var input = document.getElementById("userinput");
      if (input.value.trim().length > 0) {
        createNewItem(input);
        input.value = "";
      }
    }

    function addListAfterKeyPress(event) {
      var input = document.getElementById("userinput");
      // Prefer modern check: event.key === "Enter"
      if (input.value.trim().length > 0 && (event.key === "Enter" || event.keyCode === 13)) {
        createNewItem(input);
        input.value = "";
      }
    }

    function remove(item) {
      item.remove();
    }
  </script>
</body>
</html>
